{"ast":null,"code":"export const normalize = data => {\n  var _data$sys, _data$sys2, _data$sys3, _data$sys4, _data$clouds, _data$wind;\n  const now = Date.now();\n  console.log(\"sun:\", now > (data === null || data === void 0 ? void 0 : (_data$sys = data.sys) === null || _data$sys === void 0 ? void 0 : _data$sys.sunrise), now < (data === null || data === void 0 ? void 0 : (_data$sys2 = data.sys) === null || _data$sys2 === void 0 ? void 0 : _data$sys2.sunset), now, data.sys.sunset);\n  const sun = now > (data === null || data === void 0 ? void 0 : (_data$sys3 = data.sys) === null || _data$sys3 === void 0 ? void 0 : _data$sys3.sunrise) && now < (data === null || data === void 0 ? void 0 : (_data$sys4 = data.sys) === null || _data$sys4 === void 0 ? void 0 : _data$sys4.sunset);\n  const sunglasses = (data === null || data === void 0 ? void 0 : (_data$clouds = data.clouds) === null || _data$clouds === void 0 ? void 0 : _data$clouds.all) <= 50 && sun ? \"sunglasses\" : undefined;\n  const rain = data !== null && data !== void 0 && data.rain ? data.rain[\"1h\"] + data.rain[\"3h\"] : 0;\n  const umbrella = rain >= 0.5 ? \"umbrella\" : undefined;\n  const temp = (data === null || data === void 0 ? void 0 : data.main.temp) - 273.15 || 0;\n  const beanie = temp <= 5 ? \"beanie\" : undefined;\n  const scarf = temp <= 0 ? \"scarf\" : undefined;\n  const extras = [umbrella, beanie, sunglasses, scarf].filter(Boolean);\n  const top = temp > 20 ? \"shirt\" : temp > 12 ? \"sweatshirt\" : temp > 0 ? \"jacket\" : \"coat\";\n  const legs = temp > 22 ? \"shorts\" : \"jeans\";\n  const bottom = temp > 25 ? \"flip-flops\" : temp > 10 ? \"sneaker\" : \"boots\";\n  const name = (data === null || data === void 0 ? void 0 : data.name) || \"no result\";\n  const date = new Date((data === null || data === void 0 ? void 0 : data.dt) * 1000);\n  const time = date.toLocaleTimeString([], {\n    hour: \"2-digit\",\n    minute: \"2-digit\"\n  });\n  const wind = (data === null || data === void 0 ? void 0 : (_data$wind = data.wind) === null || _data$wind === void 0 ? void 0 : _data$wind.speed) * 3.6;\n  console.log(\"normalizer:\", rain.toFixed(1));\n  const additionalInfo = [temp.toFixed(1) + \" °C\", time, rain > 0 ? rain.toFixed(1) + \" mm\" : undefined, wind.toFixed(0) + \" km/h\"].filter(Boolean).join(\" - \");\n  const info = {\n    name,\n    extras,\n    top,\n    legs,\n    bottom,\n    additionalInfo\n  };\n  return info;\n};","map":{"version":3,"names":["normalize","data","_data$sys","_data$sys2","_data$sys3","_data$sys4","_data$clouds","_data$wind","now","Date","console","log","sys","sunrise","sunset","sun","sunglasses","clouds","all","undefined","rain","umbrella","temp","main","beanie","scarf","extras","filter","Boolean","top","legs","bottom","name","date","dt","time","toLocaleTimeString","hour","minute","wind","speed","toFixed","additionalInfo","join","info"],"sources":["/Users/matthiastheissen/Desktop/Privat/WhatShouldIWearTodayPwa/git/whatshouldiweartoday/src/hooks/normalize.ts"],"sourcesContent":["export const normalize = (data: {\n  clouds: { all: number };\n  rain: { [x: string]: any };\n  main: { temp: number };\n  name: string;\n  dt: number;\n  wind: { speed: number };\n  sys: any;\n}) => {\n  const now = Date.now();\n  console.log(\n    \"sun:\",\n    now > data?.sys?.sunrise,\n    now < data?.sys?.sunset,\n    now,\n    data.sys.sunset\n  );\n\n  const sun = now > data?.sys?.sunrise && now < data?.sys?.sunset;\n  const sunglasses = data?.clouds?.all <= 50 && sun ? \"sunglasses\" : undefined;\n  const rain = data?.rain ? data.rain[\"1h\"] + data.rain[\"3h\"] : 0;\n  const umbrella = rain >= 0.5 ? \"umbrella\" : undefined;\n  const temp = data?.main.temp - 273.15 || 0;\n  const beanie = temp <= 5 ? \"beanie\" : undefined;\n  const scarf = temp <= 0 ? \"scarf\" : undefined;\n  const extras = [umbrella, beanie, sunglasses, scarf].filter(Boolean);\n  const top =\n    temp > 20\n      ? \"shirt\"\n      : temp > 12\n      ? \"sweatshirt\"\n      : temp > 0\n      ? \"jacket\"\n      : \"coat\";\n  const legs = temp > 22 ? \"shorts\" : \"jeans\";\n  const bottom = temp > 25 ? \"flip-flops\" : temp > 10 ? \"sneaker\" : \"boots\";\n  const name: string = data?.name || \"no result\";\n  const date = new Date(data?.dt * 1000);\n  const time = date.toLocaleTimeString([], {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  });\n  const wind = data?.wind?.speed * 3.6;\n  console.log(\"normalizer:\", rain.toFixed(1));\n\n  const additionalInfo = [\n    temp.toFixed(1) + \" °C\",\n    time,\n    rain > 0 ? rain.toFixed(1) + \" mm\" : undefined,\n    wind.toFixed(0) + \" km/h\",\n  ]\n    .filter(Boolean)\n    .join(\" - \");\n  const info = { name, extras, top, legs, bottom, additionalInfo };\n  return info;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}