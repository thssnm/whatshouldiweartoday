{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useQuery } from \"react-query\";\nimport { normalize } from \"./normalize\";\nconst fetchWeather = location => {\n  const searchParam = typeof location === \"string\" ? \"q=\" + location : \"lat=\" + location.latitude + \"&lon=\" + location.longitude;\n  return fetch(\"https://api.openweathermap.org/data/2.5/weather?\" + searchParam + \"&appid=cf61ba7bba440089d7c442c97d356595\").then(res => res.json()).then(data => normalize(data));\n};\nexport const useWeatherInfo = location => {\n  _s();\n  console.log(\"useWeatherInfo:\", location);\n  const {\n    isLoading,\n    error,\n    data\n  } = useQuery(location.toString(), () => fetchWeather(location));\n  return {\n    weather: data,\n    error,\n    isLoading\n  };\n};\n_s(useWeatherInfo, \"P7jBIA24rc00P7RvfXjpVl6dqRI=\", false, function () {\n  return [useQuery];\n});","map":{"version":3,"names":["useQuery","normalize","fetchWeather","location","searchParam","latitude","longitude","fetch","then","res","json","data","useWeatherInfo","_s","console","log","isLoading","error","toString","weather"],"sources":["/Users/matthiastheissen/Desktop/Privat/WhatShouldIWearTodayPwa/what-should-i-wear-today/src/hooks/useWeatherInfo.ts"],"sourcesContent":["import { useQuery } from \"react-query\";\nimport { normalize } from \"./normalize\";\n\ntype Location = { latitude: number; longitude: number };\n\nconst fetchWeather = (location: Location | string) => {\n  const searchParam =\n    typeof location === \"string\"\n      ? \"q=\" + location\n      : \"lat=\" + location.latitude + \"&lon=\" + location.longitude;\n  return fetch(\n    \"https://api.openweathermap.org/data/2.5/weather?\" +\n      searchParam +\n      \"&appid=cf61ba7bba440089d7c442c97d356595\"\n  )\n    .then((res) => res.json())\n    .then((data) => normalize(data));\n};\n\nexport const useWeatherInfo = (location: Location | string) => {\n  console.log(\"useWeatherInfo:\", location);\n\n  const { isLoading, error, data } = useQuery(location.toString(), () =>\n    fetchWeather(location)\n  );\n\n  return {\n    weather: data,\n    error,\n    isLoading,\n  };\n};\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,aAAa;AACtC,SAASC,SAAS,QAAQ,aAAa;AAIvC,MAAMC,YAAY,GAAIC,QAA2B,IAAK;EACpD,MAAMC,WAAW,GACf,OAAOD,QAAQ,KAAK,QAAQ,GACxB,IAAI,GAAGA,QAAQ,GACf,MAAM,GAAGA,QAAQ,CAACE,QAAQ,GAAG,OAAO,GAAGF,QAAQ,CAACG,SAAS;EAC/D,OAAOC,KAAK,CACV,kDAAkD,GAChDH,WAAW,GACX,yCACJ,CAAC,CACEI,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEG,IAAI,IAAKV,SAAS,CAACU,IAAI,CAAC,CAAC;AACpC,CAAC;AAED,OAAO,MAAMC,cAAc,GAAIT,QAA2B,IAAK;EAAAU,EAAA;EAC7DC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEZ,QAAQ,CAAC;EAExC,MAAM;IAAEa,SAAS;IAAEC,KAAK;IAAEN;EAAK,CAAC,GAAGX,QAAQ,CAACG,QAAQ,CAACe,QAAQ,CAAC,CAAC,EAAE,MAC/DhB,YAAY,CAACC,QAAQ,CACvB,CAAC;EAED,OAAO;IACLgB,OAAO,EAAER,IAAI;IACbM,KAAK;IACLD;EACF,CAAC;AACH,CAAC;AAACH,EAAA,CAZWD,cAAc;EAAA,QAGUZ,QAAQ;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}