{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useQuery } from \"react-query\";\nimport { normalize } from \"./normalize\";\nimport React from \"react\";\nexport const useWeatherInfo = location => {\n  _s();\n  console.log(\"useWeatherInfo:\", location);\n  const {\n    isLoading,\n    error,\n    data\n  } = useQuery(\"users\", () => {\n    const searchParam = typeof location === \"string\" ? \"q=\" + location : \"lat=\" + location.latitude + \"&lon=\" + location.longitude;\n    console.log(\"fetch:\", location, searchParam);\n    return location !== \"\" && fetch(\"https://api.openweathermap.org/data/2.5/weather?\" + searchParam + \"&appid=cf61ba7bba440089d7c442c97d356595\").then(res => res.json()).then(data => normalize(data));\n  });\n  React.useEffect(() => {\n    console.log(\"effect:\", data);\n  }, [location, data]);\n  console.log(\"weatherData:\", data);\n  return {\n    weather: data,\n    error,\n    isLoading\n  };\n};\n_s(useWeatherInfo, \"pIlGgJu0LsF5GLR4C/UJT+das1I=\", false, function () {\n  return [useQuery];\n});","map":{"version":3,"names":["useQuery","normalize","React","useWeatherInfo","location","_s","console","log","isLoading","error","data","searchParam","latitude","longitude","fetch","then","res","json","useEffect","weather"],"sources":["/Users/matthiastheissen/Desktop/Privat/WhatShouldIWearTodayPwa/what-should-i-wear-today/src/hooks/useWeatherInfo.ts"],"sourcesContent":["import { useQuery } from \"react-query\";\nimport { normalize } from \"./normalize\";\nimport React from \"react\";\n\ntype Location = { latitude: number; longitude: number };\n\nexport const useWeatherInfo = (location: Location | string) => {\n  console.log(\"useWeatherInfo:\", location);\n\n  const { isLoading, error, data } = useQuery(\"users\", () => {\n    const searchParam =\n      typeof location === \"string\"\n        ? \"q=\" + location\n        : \"lat=\" + location.latitude + \"&lon=\" + location.longitude;\n    console.log(\"fetch:\", location, searchParam);\n    return (\n      location !== \"\" &&\n      fetch(\n        \"https://api.openweathermap.org/data/2.5/weather?\" +\n          searchParam +\n          \"&appid=cf61ba7bba440089d7c442c97d356595\"\n      )\n        .then((res) => res.json())\n        .then((data) => normalize(data))\n    );\n  });\n\n  React.useEffect(() => {\n    console.log(\"effect:\", data);\n  }, [location, data]);\n  console.log(\"weatherData:\", data);\n\n  return {\n    weather: data,\n    error,\n    isLoading,\n  };\n};\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,aAAa;AACtC,SAASC,SAAS,QAAQ,aAAa;AACvC,OAAOC,KAAK,MAAM,OAAO;AAIzB,OAAO,MAAMC,cAAc,GAAIC,QAA2B,IAAK;EAAAC,EAAA;EAC7DC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEH,QAAQ,CAAC;EAExC,MAAM;IAAEI,SAAS;IAAEC,KAAK;IAAEC;EAAK,CAAC,GAAGV,QAAQ,CAAC,OAAO,EAAE,MAAM;IACzD,MAAMW,WAAW,GACf,OAAOP,QAAQ,KAAK,QAAQ,GACxB,IAAI,GAAGA,QAAQ,GACf,MAAM,GAAGA,QAAQ,CAACQ,QAAQ,GAAG,OAAO,GAAGR,QAAQ,CAACS,SAAS;IAC/DP,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEH,QAAQ,EAAEO,WAAW,CAAC;IAC5C,OACEP,QAAQ,KAAK,EAAE,IACfU,KAAK,CACH,kDAAkD,GAChDH,WAAW,GACX,yCACJ,CAAC,CACEI,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEL,IAAI,IAAKT,SAAS,CAACS,IAAI,CAAC,CAAC;EAEtC,CAAC,CAAC;EAEFR,KAAK,CAACgB,SAAS,CAAC,MAAM;IACpBZ,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEG,IAAI,CAAC;EAC9B,CAAC,EAAE,CAACN,QAAQ,EAAEM,IAAI,CAAC,CAAC;EACpBJ,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEG,IAAI,CAAC;EAEjC,OAAO;IACLS,OAAO,EAAET,IAAI;IACbD,KAAK;IACLD;EACF,CAAC;AACH,CAAC;AAACH,EAAA,CA/BWF,cAAc;EAAA,QAGUH,QAAQ;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}